<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="http://www.cornify.com/js/cornify.js"></script>
</head>
<body>
<script>
	const magicKeys = [
		'ArrowUp',
		'ArrowUp',
		'ArrowDown',
		'ArrowDown',
		'ArrowLeft',
		'ArrowRight',
		'ArrowLeft',
		'ArrowRight',
		'KeyA',
		'KeyB'
	];

	const userKeys = [];

	function handleKeyDown(e) {
		if (userKeys.length < 1 && e.code === magicKeys[0]) {
			userKeys.push(e.code);
		}  else if (userKeys.length >= 1 && e.code === magicKeys[userKeys.length])	{
			userKeys.push(e.code);
		} else {
			userKeys.length = 0;
		} //end if statement

		compareKeys();
	}

	function compareKeys() {
		// this is a cheap check and likely to fail. as long as handleKeydown() doesn't fail, this will work, but better would be to loop through and compare index values of both arrays. 
		if (userKeys.length === magicKeys.length) {
			cornify_add();
		}
	}

	document.addEventListener('keydown', handleKeyDown);

</script>
</body>
</html>
